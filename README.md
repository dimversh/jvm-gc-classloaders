# JVM homework

## Построчное объяснение поведения программы в момент исполнения

1. Идет загрузка класса JvmComprehension с помощью ClassLoader, после успешной загрузки все его поля и методы помещаются в область Metaspace. После успешной загрузки класса создается фрейм для метода main в стеке и переменной i присваивается значение 1, которое хранится в стеке.
2. Во второй строке загружается класс Object, в стеке создается ссылочная переменная типа Object, которая получает имя *o* и в Heap с помощью ключевого слова new выделяется память, вызывается конструктор *Object()* и создается объект класса Object, далее идет присваивание ссылки на созданный объект переменной в стеке.
3. В третьей строке после загрузки класса Integer создается переменная типа Integer в стеке и ей присваевается примитивное значение благодаря *Автоупаковке*.
4. В четвертой строке вызывается метод *printAll(o,i,ii)*, в который передаются в качестве параметров значения наших переменных созданных ранее, эти значения копируются в наш метод не затрагивая изначальные переменные, создается новый фрейм.
5. Внутри фрейма метода printAll создается и инициализируется переменная *useLessVar* с присвоенным ей значением 700.
6. Загружается класс System со своими полями и методами. Вызывается метод *println()*, в который передаются переменная *o*, значение ссылки которой скопировалось из переменной *o* фрейма main, далее у *o* вызываем метод *toString()* распечатывая в консоль строковое представление объекта и дополняя с помощью конкатенации в строку значения переменных *i* и *ii*, которые также были скопированы поо из значений переменных в методе main
7. После того как отработал метод *printAll*, этот фрейм удаляется из вместе со своими переменными, в том числе и ссылочными, ссылка на значение useLessVar(700) потеряется и оно будет помечено для GC для удаления. На остальные объекты еще есть ссылка у переменных в методе main, управление возвращается к методу main, у которого вызывается метод *System.out.println()*. После отработки этого метода и вывода в консоль *finished* фрейм для метода main завершает свою работу и удаляется из стека вместе со своими переменными. Объекты в Heap теряют ссылки и помечаются на удаление для сборщика мусора.